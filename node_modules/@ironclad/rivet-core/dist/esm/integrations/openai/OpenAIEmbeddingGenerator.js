import {} from '../../index.js';
import {} from '../EmbeddingGenerator.js';
import { OpenAI } from 'openai';
export class OpenAIEmbeddingGenerator {
    #settings;
    constructor(settings) {
        this.#settings = settings;
    }
    async generateEmbedding(text) {
        const api = new OpenAI({
            apiKey: this.#settings.openAiKey,
            organization: this.#settings.openAiOrganization,
            dangerouslyAllowBrowser: true, // It's fine in Rivet
        });
        const response = await api.embeddings.create({
            input: text,
            model: 'text-embedding-ada-002',
        });
        const embeddings = response.data;
        return embeddings[0].embedding;
    }
}
