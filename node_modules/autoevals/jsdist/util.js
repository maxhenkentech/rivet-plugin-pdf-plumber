"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.currentSpan = exports.NoopSpan = void 0;
/* This is copy/pasted from braintrust-sdk*/
class NoopSpan {
    constructor() {
        this.kind = "span";
        this.id = "";
        this.span_id = "";
        this.root_span_id = "";
    }
    log(_) { }
    startSpan(_0, _1) {
        return this;
    }
    traced(_0, callback, _1) {
        return callback(this);
    }
    end(args) {
        var _a;
        return (_a = args === null || args === void 0 ? void 0 : args.endTime) !== null && _a !== void 0 ? _a : new Date().getTime() / 1000;
    }
    close(args) {
        return this.end(args);
    }
}
exports.NoopSpan = NoopSpan;
function currentSpan() {
    if (globalThis.__inherited_braintrust_state) {
        return globalThis.__inherited_braintrust_state.currentSpan.getStore();
    }
    else {
        return new NoopSpan();
    }
}
exports.currentSpan = currentSpan;
